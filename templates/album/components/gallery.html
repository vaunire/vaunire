<div class="relative w-full max-w-[565px] aspect-square overflow-hidden group">
    <div id="sliderTrack" class="flex h-full transition-transform duration-500 ease-in-out">
        <div class="w-full h-full flex-shrink-0 flex items-center justify-center">
            <img src="{{ album.image.url }}" alt="{{ album.name }}" class="w-full h-full rounded-xl object-contain">
        </div>
        {% for image in album.image_gallery.all %}
        <div class="w-full h-full flex-shrink-0 flex items-center justify-center">
            <img src="{{ image.image.url }}" class="w-full h-full object-contain">
        </div>
        {% endfor %}
    </div>
    
    <button onclick="prevImage()" class="absolute left-3.5 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white shadow-md rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-gray-800 z-10">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
    </button>
    <button onclick="nextImage()" class="absolute right-3.5 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white shadow-md rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-gray-800 z-10">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
    </button>
</div>

<div class="mt-4 w-full max-w-[570px]">
    <div id="thumbnailsContainer" class="flex gap-3.5 overflow-x-auto scroll-smooth hide-scrollbar pb-2">
        <div class="thumbnail-item flex-shrink-0 w-[130px] h-[130px] rounded-lg overflow-hidden cursor-pointer opacity-100 hover:opacity-100 transition-all duration-200 border border-transparent" 
                onclick="selectImage(0)" data-index="0">
            <img src="{{ album.image.url }}" class="w-full h-full object-cover">
        </div>
        {% for image in album.image_gallery.all %}
            <div class="thumbnail-item flex-shrink-0 w-[130px] h-[130px] rounded-lg overflow-hidden cursor-pointer opacity-50 hover:opacity-80 transition-all duration-200 border border-transparent" 
                    onclick="selectImage({{ forloop.counter }})" data-index="{{ forloop.counter }}">
                <img src="{{ image.image.url }}" class="w-full h-full object-cover">
            </div>
        {% endfor %}
    </div>
</div>