<div id="clearCartModal" class="fixed inset-0 z-50 hidden font-montserrat tracking-wide" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <!-- Фон (Backdrop) -->
    <div id="clearCartBackdrop" onclick="hideClearCartModal()" class="fixed inset-0 bg-black/50 transition-opacity opacity-0 duration-300 ease-out"></div>
    
    <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
            <!-- Панель -->
            <div id="clearCartPanel" class="relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all scale-95 opacity-0 duration-300 ease-out w-full max-w-[400px] border border-gray-100 p-6">
                
                <div class="flex justify-center mb-4">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-50">
                        <svg class="text-blue-600 w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                             <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6"/>
                        </svg>
                    </div>
                </div>
                
                <h4 class="text-lg text-black font-semibold mb-2 text-center font-montserrat">Очистить корзину?</h4>
                <p class="text-sm text-gray-500/85 text-center mb-6 font-normal">Все товары будут удалены безвозвратно</p>
                
                <div class="flex gap-3">
                    <button onclick="hideClearCartModal()" class="flex-1 px-3 py-2 text-gray-500 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium text-[13px]">
                        Отмена
                    </button>
                    <a id="clearCartLink" href="{% url 'clear_cart' %}" class="flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium text-center text-[13px]">
                        Подтвердить
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function showClearCartModal() {
        const modal = document.getElementById('clearCartModal');
        const backdrop = document.getElementById('clearCartBackdrop');
        const panel = document.getElementById('clearCartPanel');

        modal.classList.remove('hidden');

        // Небольшая задержка для запуска CSS transition
        setTimeout(() => {
            backdrop.classList.remove('opacity-0');
            panel.classList.remove('opacity-0');
            panel.classList.remove('scale-95');
            panel.classList.add('scale-100');
        }, 20);
    }

    function hideClearCartModal() {
        const modal = document.getElementById('clearCartModal');
        const backdrop = document.getElementById('clearCartBackdrop');
        const panel = document.getElementById('clearCartPanel');

        backdrop.classList.add('opacity-0');
        panel.classList.remove('scale-100');
        panel.classList.add('scale-95');
        panel.classList.add('opacity-0');

        setTimeout(() => {
            modal.classList.add('hidden');
        }, 300);
    }
</script>