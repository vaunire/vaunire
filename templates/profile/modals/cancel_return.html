<!-- 
    Модальное окно: Отмена возврата
    Использует данные родительского компонента (cancelModal) из returns.html
-->
<template x-teleport="body">
    
    <!-- Главный контейнер (показывается, если isOpen = true) -->
    <div class="fixed inset-0 z-[9999]" 
         x-show="cancelModal.isOpen" 
         style="display: none;"
         aria-labelledby="modal-title" 
         role="dialog" 
         aria-modal="true">
        
        <!-- 1. Затемненный фон -->
        <div class="fixed inset-0 bg-black/50 transition-opacity" 
             x-show="cancelModal.isOpen"
             x-transition:enter="ease-out duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="ease-in duration-200"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"
             @click="closeCancelModal()"></div>
        
        <!-- 2. Обертка для центрирования -->
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                
                <!-- 3. Панель модалки -->
                <div class="relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all w-full max-w-[400px] border border-gray-100 p-6"
                     x-show="cancelModal.isOpen"
                     x-transition:enter="ease-out duration-300"
                     x-transition:enter-start="opacity-0 scale-95"
                     x-transition:enter-end="opacity-100 scale-100"
                     x-transition:leave="ease-in duration-200"
                     x-transition:leave-start="opacity-100 scale-100"
                     x-transition:leave-end="opacity-0 scale-95">
                    
                    <!-- Иконка (синяя корзина) -->
                    <div class="flex justify-center mb-4">
                        <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-50">
                            <svg class="text-blue-600 w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                 <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6"/>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Текст -->
                    <h4 class="text-lg text-black font-semibold mb-2 text-center">Отменить заявку?</h4>
                    <p class="text-sm text-gray-500 text-center mb-6 font-normal">
                        Заявка для заказа #<span x-text="cancelModal.orderId"></span><br>будет удалена безвозвратно
                    </p>
                    
                    <!-- Кнопки -->
                    <div class="flex gap-3">
                        <button @click="closeCancelModal()" 
                                class="flex-1 px-3 py-2 text-gray-500 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium text-[13px]">
                            Отмена
                        </button>
                        
                        <!-- Ссылка подтверждения (динамическая) -->
                        <a :href="'/orders/' + cancelModal.returnId + '/cancel/'" 
                           class="flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium text-center text-[13px]">
                            Подтвердить
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>